import{r as j,j as n}from"./index-CZXmMqSi.js";class f{constructor(t=0,s="Network Error"){this.status=t,this.text=s}}const F=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},r={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:F()},v=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},H=(e,t="https://api.emailjs.com")=>{if(!e)return;const s=v(e);r.publicKey=s.publicKey,r.blockHeadless=s.blockHeadless,r.storageProvider=s.storageProvider,r.blockList=s.blockList,r.limitRate=s.limitRate,r.origin=s.origin||t},k=async(e,t,s={})=>{const i=await fetch(r.origin+e,{method:"POST",headers:s,body:t}),a=await i.text(),l=new f(i.status,a);if(i.ok)return l;throw l},P=(e,t,s)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},C=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},x=e=>e.webdriver||!e.languages||e.languages.length===0,R=()=>new f(451,"Unavailable For Headless Browser"),N=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},A=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},O=(e,t)=>e instanceof FormData?e.get(t):e[t],L=(e,t)=>{if(A(e))return!1;N(e.list,e.watchVariable);const s=O(t,e.watchVariable);return typeof s!="string"?!1:e.list.includes(s)},E=()=>new f(403,"Forbidden"),V=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a string"},M=async(e,t,s)=>{const i=Number(await s.get(e)||0);return t-Date.now()+i},_=async(e,t,s)=>{if(!t.throttle||!s)return!1;V(t.throttle,t.id);const i=t.id||e;return await M(i,t.throttle,s)>0?!0:(await s.set(i,Date.now().toString()),!1)},D=()=>new f(429,"Too Many Requests"),K=async(e,t,s,i)=>{const a=v(i),l=a.publicKey||r.publicKey,u=a.blockHeadless||r.blockHeadless,h=r.storageProvider||a.storageProvider,b={...r.blockList,...a.blockList},m={...r.limitRate,...a.limitRate};return u&&x(navigator)?Promise.reject(R()):(P(l,e,t),C(s),s&&L(b,s)?Promise.reject(E()):await _(location.pathname,m,h)?Promise.reject(D()):k("/api/v1.0/email/send",JSON.stringify({lib_version:"4.3.3",user_id:l,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"}))},B=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},q=e=>typeof e=="string"?document.querySelector(e):e,U=async(e,t,s,i)=>{const a=v(i),l=a.publicKey||r.publicKey,u=a.blockHeadless||r.blockHeadless,h=r.storageProvider||a.storageProvider,b={...r.blockList,...a.blockList},m={...r.limitRate,...a.limitRate};if(u&&x(navigator))return Promise.reject(R());const p=q(s);P(l,e,t),B(p);const o=new FormData(p);return L(b,o)?Promise.reject(E()):await _(location.pathname,m,h)?Promise.reject(D()):(o.append("lib_version","4.3.3"),o.append("service_id",e),o.append("template_id",t),o.append("user_id",l),k("/api/v1.0/email/send-form",o))},G={init:H,send:K,sendForm:U,EmailJSResponseStatus:f},w={name:"Please enter your name.",email:"Please enter a valid email address.",subject:"Please enter a subject.",message:"Please enter your message."},S={name:"",email:"",subject:"",message:""},T={display:!0,message:"",type:""},J="sucess",W="danger";function z(){const[e,t]=j.useState(w),[s,i]=j.useState(!1),[a,l]=j.useState(S),[u,h]=j.useState(T),b=(o,c,g=3e3)=>{h({display:!0,message:o,type:c}),setTimeout(()=>h(T),g)},m=o=>{const{name:c,value:g}=o.target;g.trim().length>0?t(d=>{const y={...d};return delete y[c],y}):t(d=>({...d,[c]:w[c]})),l(d=>({...d,[c]:g}))},p=async o=>{o.preventDefault(),i(!0);const c={},g=new FormData(o.target);for(const[d,y]of g.entries())c[d]=y.trim();try{await G.send("g","portfolio",c,"d3jCwsk7TrDKWsCh7"),b("Message sent.",J),l(S)}catch{b("'Uh oh. Something went wrong. Please try again latter",W)}i(!1)};return n.jsxs("div",{id:"contact",children:[n.jsx("h2",{children:"Contact Me"}),n.jsxs("form",{onSubmit:p,noValidate:!0,children:[n.jsx("input",{type:"text",placeholder:"Name",name:"name",value:a.name,onChange:m,disabled:s}),e.name&&n.jsx("div",{className:"error",children:e.name}),n.jsx("input",{type:"email",placeholder:"Email",name:"email",value:a.email,onChange:m,disabled:s}),e.email&&n.jsx("div",{className:"error",children:e.email}),n.jsx("input",{type:"text",placeholder:"Subject",name:"subject",value:a.subject,onChange:m,disabled:s}),e.subject&&n.jsx("div",{className:"error",children:e.subject}),n.jsx("textarea",{type:"text",placeholder:"Type your message here...",name:"message",value:a.message,onChange:m,disabled:s}),e.message&&n.jsx("div",{className:"error",children:e.message}),n.jsx("input",{type:"submit",value:"Submit",id:"input-submit",className:"button",disabled:s})]}),u.display&&n.jsx("div",{className:"toast "+u.type,children:u.message})]})}export{z as default};
